<div ng-controller='AuthController as auth'>
	<h2>
		Sign Up!
	</h2>
	<div>
		To use the site and join a team, you need to register an account. Please enter your details below. 
	</div>
	<div class='margin-top'>
		<form class="form-horizontal">
		    <fieldset class='margin-top'>
		        <legend>Choose your Team 
		        	<span class="badge" title='Choose wisely, you cannot change easily!'>?</span></legend>
		        <div class="form-group">
		            <div 
		            ng-click='auth.model.team="astu"'
		            ng-class='{selected: auth.model.team=="astu"}'
		            class="col-md-4 center team">
		                <div class='icon-stub'></div>
		                Join ASTU as an Officer
		            </div>
		            <div 
		            ng-click='auth.model.team="blackdragon"'
		            ng-class='{selected: auth.model.team=="blackdragon"}'
		            class="col-md-4 center team">
		                <div class='icon-stub'></div>
		                Join Black Dragon as an Initiate
		            </div>
		            <div 
		            ng-click='auth.model.team="sorcesec"'
		            ng-class='{selected: auth.model.team=="sorcesec"}'
		            class="col-md-4 center team">
		                <div class='icon-stub'></div>
		                Join SorceSek as a Hacker
		            </div>
		        </div>
		    </fieldset>

		    <fieldset class='margin-top'>
		        <legend>Crack your first code - complete the sentence from the book</legend>
		        <h4><strong>Chapter <%= code.chapter %>, Paragraph <%= code.paragraph %></strong></h4>
		        <h4><%- code.sentence %></h4>
		        <div class="form-group">
		            <label for="pass-conf" class="col-md-3 control-label">Enter the Code</label>
		            <div class="col-md-8">
		                <input type="text" 
		                ng-model='auth.model.captcha'
		                class="form-control" id="captcha" placeholder="Code">		                
		            </div>
		            <div class='col-md-1'>
		            	<span class="badge" 
		                title="You need a copy of The Hannover Game to work out the Cipher Code. Click on the 'Buy the books' tab above.">?</span>
		            </div>
		        </div>
		    </fieldset>
		    <div class='error' ng-hide='auth.message'>
		    	<% if(message) { %>
			      <%- message%>
			    <% } %>		
		    </div>
		    <div class='error' ng-show='auth.model.registerMessage'>
		    	{{auth.model.registerMessage}}
		    </div>
		    <fieldset class='margin-top'>
		    	<div class='col-md-6' style='border-right:1px solid #d2d2d2'>
			        <legend>Enter your details</legend>
			        <div class="form-group">
			            <label for="name" class="col-md-3 control-label">User name</label>
			            <div class="col-md-9">
			                <input type="text" 
			                ng-model='auth.model.name'
			                class="form-control" id="name" placeholder="User name">
			            </div>
			        </div>
			        <div class="form-group">
			            <label for="inputEmail" class="col-md-3 control-label">Email</label>
			            <div class="col-md-9">
			                <input type="email" 
			                ng-model='auth.model.email'
			                class="form-control" id="inputEmail" placeholder="Email">
			            </div>
			        </div>
			        <div class="form-group">
			            <label for="pass" class="col-md-3 control-label">Password</label>
			            <div class="col-md-9">
			                <input type="password"
			                 ng-model='auth.model.password'
			                 class="form-control" id="pass" placeholder="Password">
			            </div>
			        </div>
			        <div class="form-group">
			            <label for="pass-conf" class="col-md-3 control-label">Confirm Password</label>
			            <div class="col-md-9">
			                <input type="password" 
			                ng-model='auth.model.passwordConfirm'
			                class="form-control" id="pass-conf" placeholder="Confirm password">
			            </div>
			        </div>
			        <div class="form-group center">
			            <button type='submit' 
			            ng-click='auth.register()'
			            ng-disabled='!auth.validate()' class='btn btn-success btn-raised'>Sign up</button>
			        </div>
		        </div>
		        <div class='col-md-6'>
		        	<legend>Or use your Facebook account</legend>
		        	<div class="form-group center">
			            <a ng-href='/auth/facebook/true/{{auth.model.team}}/{{auth.model.captcha}}' ng-disabled='!auth.validateFb()' class='btn btn-info btn-raised'>Login with Facebook</a>
			        </div>
		        </div>
		    </fieldset>
		    <fieldset class='margin-top center'>
		        <p>By registering to this site, you agree to our <a href="/terms">Terms & Conditions</a> </p>
		        
		    </fieldset>
		</form>
	</div>
</div>
